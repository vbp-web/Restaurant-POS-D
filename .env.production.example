# ========================================
# BACKEND ENVIRONMENT VARIABLES - PRODUCTION
# ========================================
# 
# IMPORTANT: 
# 1. Copy this file to .env in the backend directory
# 2. Replace all placeholder values with actual production values
# 3. NEVER commit the .env file to version control
# 4. Keep this file secure and backed up separately
#

# ========================================
# SERVER CONFIGURATION
# ========================================
NODE_ENV=production
PORT=5000

# ========================================
# DATABASE CONFIGURATION
# ========================================
# MongoDB Atlas Connection String
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER.mongodb.net/restaurant-pos-prod?retryWrites=true&w=majority

# ========================================
# JWT CONFIGURATION
# ========================================
# Generate a strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=GENERATE_A_STRONG_64_CHARACTER_SECRET_HERE
JWT_EXPIRE=7d

# ========================================
# RAZORPAY CONFIGURATION (PRODUCTION)
# ========================================
# Get production keys from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=rzp_live_YOUR_KEY_ID
RAZORPAY_KEY_SECRET=YOUR_RAZORPAY_SECRET

# ========================================
# CORS CONFIGURATION
# ========================================
# Frontend URL (your production domain)
FRONTEND_URL=https://yourdomain.com

# Allowed origins (comma-separated, no spaces)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ========================================
# FILE UPLOAD CONFIGURATION
# ========================================
# Maximum file size in bytes (5MB = 5242880)
MAX_FILE_SIZE=5242880

# Upload directory path
UPLOAD_PATH=/var/uploads

# ========================================
# ROOT ADMIN DEFAULT CREDENTIALS
# ========================================
# These will be used to create the initial root admin account
ROOT_ADMIN_EMAIL=admin@yourdomain.com
ROOT_ADMIN_PASSWORD=CHANGE_THIS_TO_A_STRONG_PASSWORD

# ========================================
# EMAIL CONFIGURATION (OPTIONAL)
# ========================================
# For sending notifications, invoices, etc.
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-specific-password
# SMTP_FROM=Restaurant POS <noreply@yourdomain.com>

# ========================================
# MONITORING & LOGGING (OPTIONAL)
# ========================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log level: error, warn, info, debug
LOG_LEVEL=info

# ========================================
# REDIS CONFIGURATION (OPTIONAL - FOR CACHING)
# ========================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# ========================================
# SESSION CONFIGURATION (OPTIONAL)
# ========================================
# SESSION_SECRET=GENERATE_ANOTHER_STRONG_SECRET_HERE
# SESSION_EXPIRE=86400000

# ========================================
# RATE LIMITING
# ========================================
# Maximum requests per window
RATE_LIMIT_MAX=100

# Window duration in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW=900000

# ========================================
# SECURITY
# ========================================
# Enable HTTPS only (set to true in production)
HTTPS_ONLY=true

# Cookie security settings
COOKIE_SECURE=true
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=strict

# ========================================
# BACKUP CONFIGURATION (OPTIONAL)
# ========================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_PATH=/var/backups/restaurant-pos

# ========================================
# NOTES
# ========================================
# 
# Security Best Practices:
# 1. Use strong, unique passwords for all services
# 2. Rotate secrets regularly (every 90 days recommended)
# 3. Use different credentials for each environment
# 4. Enable 2FA on all service accounts
# 5. Regularly audit access logs
# 6. Keep this file permissions restricted (chmod 600)
# 
# Required Services:
# - MongoDB Atlas account (https://www.mongodb.com/cloud/atlas)
# - Razorpay account (https://razorpay.com)
# - Domain name with SSL certificate
# 
# Optional Services:
# - Sentry for error tracking (https://sentry.io)
# - Redis for caching (https://redis.io)
# - SMTP service for emails
# 
